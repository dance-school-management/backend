syntax = "proto3";

package enroll_to_product;

import "google/protobuf/timestamp.proto";

message CheckClassRequest {
  int64 class_id = 1;
};

message CheckCourseRequest {
  int64 course_id = 1;
  int32 group_number = 2;
};

message CheckResponse {
  int32 people_limit = 1;
};

message CheckCourseResponse {
  repeated CheckCourseResponseEntry people_limits = 1;
};

message CheckCourseResponseEntry {
  int64 class_id = 1;
  int32 people_limit = 2;
}

message ClassIdsRequest {
  repeated int64 class_ids = 1;
};

message ClassDetails {
  int64 class_id = 1;
  string name = 2;
  string description = 3;
  string start_date = 4;
  string end_date = 5;
  string class_room_name = 6;
  optional string dance_category_name = 7;
  optional string advancement_level_name = 8;
  float price = 9;
  optional int64 course_id = 10;
  string class_type = 11;
}

message ClassesDetailsResponse {
  repeated ClassDetails classesDetails = 1;
}

message CourseIdsRequest {
  repeated int64 course_ids = 1;
}

message CourseDetailsResponse {
  int64 course_id = 1;
  string name = 2;
  string description = 3;
  float price = 4;
  optional string dance_category_name = 5;
  optional string advancement_level_name = 6;
  string course_status = 7;
}

message CoursesDetailsResponse {
  repeated CourseDetailsResponse courses_details = 1;
}

message CourseClassIds {
  int64 course_id = 1;
  int64 class_id = 2;
  optional string course_name = 3;
}

message CoursesClassesIdsResponse {
  repeated CourseClassIds courses_classes_ids = 1;
}

message DanceCategoryOfCourse {
  int64 course_id = 1;
  optional int64 dance_category_id = 2;
  optional string dance_category_name = 3;
  optional int64 advancement_level_id = 4;
  optional string advancement_level_name = 5;
}

message DanceCategoriesOfCoursesResponse {
  repeated DanceCategoryOfCourse dance_categories_of_courses = 1;
}

message GetSpentHoursDanceCategoriesRequest {
  repeated int64 attended_classes_ids = 1;
}

message DanceCategorySpentHours {
  string dance_category_name = 1;
  float spent_hours = 2;
}

message GetSpentHoursDanceCategoriesResponse {
  repeated DanceCategorySpentHours spent_hours_stats = 1;
}

message ClassInstructorIds {
  string instructor_id = 1;
  int64 class_id = 2;
}

message GetSpentHoursInstructorsRequest {
  repeated ClassInstructorIds classes_instructors_ids = 1;
}

message InstructorSpentHours {
  string instructor_id = 1;
  float spent_hours = 2;
}

message GetSpentHoursInstructorsResponse {
  repeated InstructorSpentHours spent_hours_stats = 1;
}

message CourseClass {
  int64 course_id = 1;
  int64 class_id = 2;
  optional string course_name = 3;
  google.protobuf.Timestamp class_end_date = 4;
  google.protobuf.Timestamp class_start_date = 5;
}

message CoursesClassesResponse {
  repeated CourseClass courses_classes = 1;
}